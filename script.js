const questions = [
    {
        question: "Koja reka protiče kroz Beograd?",
        options: ["Sava", "Tisa", "Morava", "Dunav"],
        correctAnswer: "Dunav"
      },
      {
        question: "Koja planina se nalazi na jugoistoku Srbije?",
        options: ["Kopaonik", "Šar-planina", "Stara planina", "Fruška gora"],
        correctAnswer: "Stara planina"
      },
      {
        question: "Ko je napisao 'Seobe'?",
        options: ["Ivo Andrić", "Miloš Crnjanski", "Radoje Domanović", "Danilo Kiš"],
        correctAnswer: "Miloš Crnjanski"
      },
      {
        question: "Koja životinja se nalazi na srpskom grbu?",
        options: ["Orao", "Ris", "Vuk", "Medved"],
        correctAnswer: "Orao"
      },
      {
        question: "Ko je prvi kralj Srbije?",
        options: ["Kralj Petar I", "Kralj Aleksandar I", "Kralj Milan Obrenović", "Kralj Stefan Dušan"],
        correctAnswer: "Kralj Milan Obrenović"
      },
      {
        question: "Koja manifestacija se održava u Guči?",
        options: ["Sabor trubača", "Exit festival", "Beer fest", "Gitarijada"],
        correctAnswer: "Sabor trubača"
      },
      {
        question: "Ko je najpoznatiji srpski pronalazač?",
        options: ["Nikola Tesla", "Mihajlo Pupin", "Milutin Milanković", "Vuk Karadžić"],
        correctAnswer: "Nikola Tesla"
      },
      {
        question: "Koja reka čini granicu između Srbije i Hrvatske?",
        options: ["Sava", "Una", "Drina", "Kupa"],
        correctAnswer: "Drina"
      },
      {
        question: "Koja srpska svetinja se nalazi na Kosovu?",
        options: ["Manastir Studenica", "Manastir Žiča", "Manastir Visoki Dečani", "Manastir Mileševa"],
        correctAnswer: "Manastir Visoki Dečani"
      },
      {
        question: "Ko je napisao pesmu 'Gorski vijenac'?",
        options: ["Petar II Petrović Njegoš", "Branko Radičević", "Đorđe Krstić", "Desanka Maksimović"],
        correctAnswer: "Petar II Petrović Njegoš"
      },
      {
        question: "Koja opština je najmanja u Srbiji?",
        options: ["Novi Beograd", "Stari grad", "Vračar", "Savski venac"],
        correctAnswer: "Stari grad"
      },
      {
        question: "Koji je najviši vrh planine Kopaonik?",
        options: ["Pančićev vrh", "Suvi vrh", "Gobelja", "Jatuber"],
        correctAnswer: "Pančićev vrh"
      },
      {
        question: "Ko je kompozitor 'Ko to tamo peva' filma?",
        options: ["Zoran Simjanović", "Vladimir Graić", "Goran Bregović", "Aleksandar Hemon"],
        correctAnswer: "Zoran Simjanović"
      },
      {
        question: "Koja srpska reprezentacija je osvojila zlatnu medalju na Olimpijskim igrama u košarci?",
        options: ["1992. godine", "2000. godine", "1980. godine", "1976. godine"],
        correctAnswer: "2000. godine"
      },
      {
        question: "Ko je bio vođa Prvog srpskog ustanka?",
        options: ["Karađorđe Petrović", "Miloš Obrenović", "Koča Anđelković", "Stevan Sinđelić"],
        correctAnswer: "Karađorđe Petrović"
      },
      {
        question: "Koja je najstarija univerzitetska biblioteka u Srbiji?",
        options: ["Biblioteka Matice srpske", "Nacionalna biblioteka Srbije", "Univerzitetska biblioteka u Beogradu", "Biblioteka grada Beograda"],
        correctAnswer: "Biblioteka Matice srpske"
      },
      {
        question: "Ko je napisao roman 'Na Drini ćuprija'?",
        options: ["Ivo Andrić", "Miloš Crnjanski", "Danilo Kiš", "Meša Selimović"],
        correctAnswer: "Ivo Andrić"
      },
      {
        question: "Koja reka teče kroz Novi Sad?",
        options: ["Tisa", "Dunav", "Sava", "Morava"],
        correctAnswer: "Dunav"
      },
      {
        question: "Ko je prvi srpski nobelovac za književnost?",
        options: ["Ivo Andrić", "Miloš Crnjanski", "Danilo Kiš", "Meša Selimović"],
        correctAnswer: "Ivo Andrić"
      },
      {
        question: "Koja reka protiče kroz Niš?",
        options: ["Morava", "Neretva", "Ibar", "Vardar"],
        correctAnswer: "Morava"
      },
      {
        question: "Ko je napisao roman 'Crveno i crno'?",
        options: ["Gijom Apoliner", "Gistav Flober", "Stendal", "Honoré de Balzac"],
        correctAnswer: "Stendal"
      },
      {
        question: "Koja planeta je poznata kao 'Jutarnja zvezda'?",
        options: ["Mars", "Venera", "Saturn", "Jupiter"],
        correctAnswer: "Venera"
      },
      {
        question: "Ko je bio prvi čovek na Mesecu?",
        options: ["Neil Armstrong", "Buzz Aldrin", "Yuri Gagarin", "John Glenn"],
        correctAnswer: "Neil Armstrong"
      },
      {
        question: "Koja je najveća planina na svetu?",
        options: ["Mont Everest", "Andi", "Himalaji", "Aconcagua"],
        correctAnswer: "Mont Everest"
      },
      {
        question: "Ko je osnivač kompanije Microsoft?",
        options: ["Steve Jobs", "Bill Gates", "Mark Zuckerberg", "Elon Musk"],
        correctAnswer: "Bill Gates"
      },
      {
        question: "Koja je najduža reka u Africi?",
        options: ["Nil", "Kongo", "Niger", "Limpopo"],
        correctAnswer: "Nil"
      },
      {
        question: "Ko je napisao tragediju 'Romeo i Julija'?",
        options: ["Charles Dickens", "William Shakespeare", "Jane Austen", "Fyodor Dostoevsky"],
        correctAnswer: "William Shakespeare"
      },
      {
        question: "Ko je pronalazač telefona?",
        options: ["Thomas Edison", "Nikola Tesla", "Alexander Graham Bell", "Guglielmo Marconi"],
        correctAnswer: "Alexander Graham Bell"
      },
      {
        question: "Koja zemlja je domaćin FIFA Svetskog kupa 2022?",
        options: ["Brazil", "Nemačka", "Rusija", "Katar"],
        correctAnswer: "Katar"
      },
      {
        question: "Ko je napisao 'Ana Karenjina'?",
        options: ["Fyodor Dostoevsky", "Leo Tolstoy", "Anton Chekhov", "Ivan Turgenev"],
        correctAnswer: "Leo Tolstoy"
      },
      {
        question: "Koja je najveća pustinja na svetu?",
        options: ["Sahara", "Gobi", "Atakama", "Antarktik"],
        correctAnswer: "Sahara"
      },
      {
        question: "Ko je autor slike 'Mona Liza'?",
        options: ["Pablo Picasso", "Leonardo da Vinci", "Vincent van Gogh", "Michelangelo"],
        correctAnswer: "Leonardo da Vinci"
      },
      {
        question: "Ko je osnivač kompanije Apple?",
        options: ["Steve Jobs", "Bill Gates", "Mark Zuckerberg", "Elon Musk"],
        correctAnswer: "Steve Jobs"
      },
      {
        question: "Koja je najveća država na svetu po površini?",
        options: ["Rusija", "Kina", "SAD", "Brazil"],
        correctAnswer: "Rusija"
      },
      {
        question: "Ko je prvi američki predsednik?",
        options: ["Thomas Jefferson", "George Washington", "Abraham Lincoln", "John Adams"],
        correctAnswer: "George Washington"
      },
      {
        question: "Koja je najmanja kost u ljudskom telu?",
        options: ["Srednje uvo", "Štitasta žlezda", "Kuka", "Zglob"],
        correctAnswer: "Srednje uvo"
      },
      {
        question: "Koja je najveća planeta u Sunčevom sistemu?",
        options: ["Zemlja", "Saturn", "Jupiter", "Mars"],
        correctAnswer: "Jupiter"
      },
      {
        question: "Ko je napisao 'Ilijadu'?",
        options: ["Platon", "Aristotel", "Homer", "Sofokle"],
        correctAnswer: "Homer"
      },
      {
        question: "Ko je pronalazač penicilina?",
        options: ["Marie Curie", "Alexander Fleming", "Louis Pasteur", "Jonas Salk"],
        correctAnswer: "Alexander Fleming"
      }
];

let shuffledQuestions = [];
let currentQuestionIndex = 0;
let score = 0;

function shuffleQuestions() {
    shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
}

function loadQuestion() {
    const questionContainer = document.getElementById("question-container");
    const answerContainer = document.getElementById("answer-container");
    const scoreCounter = document.getElementById("score-counter");

    questionContainer.innerHTML = `<h2>${shuffledQuestions[currentQuestionIndex].question}</h2>`;
    
    // Update the score counter
    scoreCounter.textContent = `Rezultat: ${score}`;

    answerContainer.innerHTML = shuffledQuestions[currentQuestionIndex].options.map((option, index) => `
        <div class="answer-option" onclick="selectAnswer(${index})">${option}</div>
    `).join('');
}

function selectAnswer(index) {
    const answerOptions = document.querySelectorAll('.answer-option');
    answerOptions.forEach(option => option.classList.remove('selected-answer'));
    answerOptions[index].classList.add('selected-answer');
}

function checkAnswer() {
    const selectedOption = document.querySelector('.selected-answer');
    if (!selectedOption) {
        alert("Please select an answer!");
        return;
    }

    const isCorrect = selectedOption.textContent === shuffledQuestions[currentQuestionIndex].correctAnswer;
    selectedOption.classList.add(isCorrect ? 'correct-answer' : 'wrong-answer');

    const answerOptions = document.querySelectorAll('.answer-option');
    answerOptions.forEach(option => option.style.pointerEvents = 'none'); // Disable further clicks on answer options

    document.getElementById("check-btn").disabled = true;

    if (isCorrect) {
        score++; // Increment the score for correct answers
        setTimeout(() => {
            nextQuestion();
        }, 1000); // Automatically load next question after 1 second for a correct answer
    } else {
        const correctIndex = shuffledQuestions[currentQuestionIndex].options.findIndex(option => option === shuffledQuestions[currentQuestionIndex].correctAnswer);
        const correctOption = document.querySelectorAll('.answer-option')[correctIndex];
        correctOption.classList.add('correct-answer');
        document.getElementById("play-again-btn").style.display = 'block';
    }
}

function nextQuestion() {
    const answerOptions = document.querySelectorAll('.answer-option');
    answerOptions.forEach(option => {
        option.classList.remove('selected-answer', 'correct-answer', 'wrong-answer');
        option.style.pointerEvents = 'auto'; // Re-enable clicks on answer options
    });

    document.getElementById("check-btn").disabled = false;
    document.getElementById("play-again-btn").style.display = 'none';

    currentQuestionIndex++;
    if (currentQuestionIndex < shuffledQuestions.length) {
        loadQuestion();
    } else {
        alert(`Pobeda! Rezultat je ${score}`);
        currentQuestionIndex = 0; // Reset the quiz
        score = 0; // Reset the score
        shuffleQuestions();
        loadQuestion();
    }
}

function playAgain() {
    currentQuestionIndex = 0;
    score = 0; // Reset the score
    shuffleQuestions();
    loadQuestion();
    document.getElementById("check-btn").disabled = false;
    document.getElementById("play-again-btn").style.display = 'none';
}

// Initial load
shuffleQuestions();
loadQuestion();